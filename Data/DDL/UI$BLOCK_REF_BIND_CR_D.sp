CREATE OR ALTER PROCEDURE UI$BLOCK_REF_BIND_CR_D (
    I_REF INTEGER,
    I_BLOCK VARCHAR(30),
    I_DESTINATION_PARAM VARCHAR(30))
RETURNS (
    REF INTEGER,
    "BLOCK" VARCHAR(30),
    DESTINATION_PARAM VARCHAR(30),
    SOURCE_PARAM VARCHAR(30))
AS
BEGIN
  FOR
    SELECT R.ID,R.BLOCK,:I_DESTINATION_PARAM,RB.SOURCE_PARAM
    FROM UI$BLOCK_REF R
    LEFT JOIN UI$BLOCK_REF_BIND RB ON
      RB.REF = R.ID AND
      RB."BLOCK" = R.REFS_TO AND
      RB.DESTINATION_PARAM = :i_destination_param
    WHERE
      R.ID = :I_REF AND
      R.BLOCK = :I_BLOCK AND
      1=1
    INTO :REF,:BLOCK,:DESTINATION_PARAM,:SOURCE_PARAM
  DO SUSPEND;
END